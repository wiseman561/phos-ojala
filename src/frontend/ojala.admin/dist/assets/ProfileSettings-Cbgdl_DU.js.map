{"version":3,"file":"ProfileSettings-Cbgdl_DU.js","sources":["../../src/components/settings/ProfileSettings.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { PhotoIcon } from '@heroicons/react/24/outline';\r\nimport { getSettings, saveSettings, defaultSettings } from '../../utils/settingsStorage';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst languages = [\r\n  { code: 'en', name: 'English' },\r\n  { code: 'es', name: 'Spanish' },\r\n  { code: 'fr', name: 'French' },\r\n  { code: 'de', name: 'German' },\r\n  { code: 'zh', name: 'Chinese' },\r\n];\r\n\r\nexport default function ProfileSettings() {\r\n  const { user } = useAuth();\r\n  const [settings, setSettings] = useState(defaultSettings.profile);\r\n  const [password, setPassword] = useState({ current: '', new: '', confirm: '' });\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [saveStatus, setSaveStatus] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Load settings and merge with user data\r\n    const storedSettings = getSettings('PROFILE');\r\n    setSettings({\r\n      ...storedSettings,\r\n      email: user?.email || '',\r\n      displayName: user?.name || storedSettings.displayName || '',\r\n    });\r\n  }, [user]);\r\n\r\n  const handleSave = async () => {\r\n    setIsSaving(true);\r\n    setSaveStatus(null);\r\n\r\n    try {\r\n      const success = saveSettings('PROFILE', settings);\r\n      if (success) {\r\n        setSaveStatus({ type: 'success', message: 'Profile settings saved successfully' });\r\n      } else {\r\n        setSaveStatus({ type: 'error', message: 'Failed to save profile settings' });\r\n      }\r\n    } catch (error) {\r\n      setSaveStatus({ type: 'error', message: 'An error occurred while saving settings' });\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handlePasswordChange = async (e) => {\r\n    e.preventDefault();\r\n    if (password.new !== password.confirm) {\r\n      setSaveStatus({ type: 'error', message: 'New passwords do not match' });\r\n      return;\r\n    }\r\n    // TODO: Implement password change logic\r\n    setSaveStatus({ type: 'success', message: 'Password changed successfully' });\r\n    setPassword({ current: '', new: '', confirm: '' });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\">Profile Settings</h3>\r\n        <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n          Manage your personal profile information\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* Avatar Upload */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Profile Picture</label>\r\n          <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md dark:border-gray-600\">\r\n            <div className=\"space-y-1 text-center\">\r\n              <PhotoIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n              <div className=\"flex text-sm text-gray-600 dark:text-gray-400\">\r\n                <label\r\n                  htmlFor=\"avatar-upload\"\r\n                  className=\"relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500\"\r\n                >\r\n                  <span>Upload a file</span>\r\n                  <input id=\"avatar-upload\" name=\"avatar-upload\" type=\"file\" className=\"sr-only\" />\r\n                </label>\r\n                <p className=\"pl-1\">or drag and drop</p>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">PNG, JPG, GIF up to 10MB</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Display Name */}\r\n        <div>\r\n          <label htmlFor=\"displayName\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            Display Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"displayName\"\r\n            value={settings.displayName || ''}\r\n            onChange={(e) => setSettings({ ...settings, displayName: e.target.value })}\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        {/* Email (Read-only) */}\r\n        <div>\r\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            Email Address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={settings.email || ''}\r\n            readOnly\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-50 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        {/* Language Preference */}\r\n        <div>\r\n          <label htmlFor=\"language\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            Language\r\n          </label>\r\n          <select\r\n            id=\"language\"\r\n            value={settings.language || 'en'}\r\n            onChange={(e) => setSettings({ ...settings, language: e.target.value })}\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n          >\r\n            {languages.map((lang) => (\r\n              <option key={lang.code} value={lang.code}>\r\n                {lang.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Password Change Section */}\r\n        <div className=\"border-t border-gray-200 dark:border-gray-700 pt-6\">\r\n          <h4 className=\"text-md font-medium text-gray-900 dark:text-white mb-4\">Change Password</h4>\r\n          <form onSubmit={handlePasswordChange} className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"currentPassword\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                Current Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"currentPassword\"\r\n                value={password.current}\r\n                onChange={(e) => setPassword({ ...password, current: e.target.value })}\r\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                New Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"newPassword\"\r\n                value={password.new}\r\n                onChange={(e) => setPassword({ ...password, new: e.target.value })}\r\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                Confirm New Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"confirmPassword\"\r\n                value={password.confirm}\r\n                onChange={(e) => setPassword({ ...password, confirm: e.target.value })}\r\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"inline-flex justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n              >\r\n                Change Password\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Delete Account Button */}\r\n        <div className=\"border-t border-gray-200 dark:border-gray-700 pt-6\">\r\n          <button\r\n            type=\"button\"\r\n            disabled\r\n            className=\"inline-flex justify-center rounded-md border border-red-300 bg-white py-2 px-4 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Delete Account\r\n          </button>\r\n          <p className=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">\r\n            This feature is currently disabled\r\n          </p>\r\n        </div>\r\n\r\n        {/* Save Button */}\r\n        <div className=\"flex justify-end\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleSave}\r\n            disabled={isSaving}\r\n            className=\"inline-flex justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSaving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Status Message */}\r\n        {saveStatus && (\r\n          <div\r\n            className={`mt-4 p-4 rounded-md ${\r\n              saveStatus.type === 'success'\r\n                ? 'bg-green-50 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n                : 'bg-red-50 text-red-800 dark:bg-red-900 dark:text-red-200'\r\n            }`}\r\n          >\r\n            {saveStatus.message}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["languages","ProfileSettings","user","useAuth","settings","setSettings","useState","defaultSettings","password","setPassword","isSaving","setIsSaving","saveStatus","setSaveStatus","useEffect","storedSettings","getSettings","handleSave","success","saveSettings","handlePasswordChange","e","jsxs","jsx","PhotoIcon","lang"],"mappings":"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"}