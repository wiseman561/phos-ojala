<Project Sdk="Microsoft.NET.Sdk.Web">

	<PropertyGroup>
		<TargetFramework>net8.0</TargetFramework>
		<Nullable>enable</Nullable>
		<ImplicitUsings>enable</ImplicitUsings>
		<EnableNETAnalyzers>true</EnableNETAnalyzers>

		<ProjectGuid>{A12E34BC-5678-1234-ABCD-7890EF123456}</ProjectGuid>
	<RestorePackagesWithLockFile>true</RestorePackagesWithLockFile></PropertyGroup>

	<ItemGroup>
		<PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" />
		<PackageReference Include="Microsoft.AspNetCore.Mvc.Versioning" />
		<PackageReference Include="Microsoft.AspNetCore.Mvc.Versioning.ApiExplorer" />
		<PackageReference Include="Swashbuckle.AspNetCore" />
		<PackageReference Include="Microsoft.EntityFrameworkCore" />
		<PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.Tools" PrivateAssets="all" />
		<PackageReference Include="Microsoft.IdentityModel.Tokens" />
		<PackageReference Include="System.IdentityModel.Tokens.Jwt" />
		<PackageReference Include="LaunchDarkly.ServerSdk" />
		<PackageReference Include="StackExchange.Redis" />
	</ItemGroup>

	<ItemGroup>
		<ProjectReference Include="..\Phos.Services\Phos.Services.csproj" />
		<ProjectReference Include="..\Phos.Identity\Phos.Identity.csproj">
			<ExcludeAssets>contentFiles;runtime</ExcludeAssets>
		</ProjectReference>
		<ProjectReference Include="..\Phos.Data\Phos.Data.csproj" />
		<ProjectReference Include="..\..\shared\Phos.Common\Phos.Common.csproj" />
		<ProjectReference Include="..\..\shared\Phos.Contracts\Phos.Contracts.csproj" />
	</ItemGroup>

	<!-- remove any Identity appsettings so only API's own files are published -->
	<ItemGroup>
		<!-- Identity's None items -->
		<None Remove="..\Phos.Identity\appsettings.json" />
		<None Remove="..\Phos.Identity\appsettings.Development.json" />
		<!-- Identity's Content items (just in case) -->
		<Content Remove="..\Phos.Identity\appsettings.json" />
		<Content Remove="..\Phos.Identity\appsettings.Development.json" />
	</ItemGroup>

</Project>
