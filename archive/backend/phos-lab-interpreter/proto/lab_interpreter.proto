syntax = "proto3";
package phos.labs;

service LabInterpreter {
  rpc Interpret (InterpretRequest) returns (InterpretResponse) {}
}

message LabItem { string loinc = 1; string name = 2; double value = 3; string unit = 4; }
message InterpretRequest { string patient_id = 1; repeated LabItem items = 2; }

message Flag { string loinc = 1; string severity = 2; string reason = 3; }
message Recommendation { string code = 1; string text = 2; string rationale = 3; }

message InterpretResponse {
  string patient_id = 1;
  repeated Flag flags = 2;
  repeated Recommendation recommendations = 3;
}


